(this["webpackJsonpschool-message"]=this["webpackJsonpschool-message"]||[]).push([[0],{54:function(e,t,a){e.exports=a(95)},59:function(e,t,a){},60:function(e,t,a){},87:function(e,t){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(46),c=a.n(r),o=(a(59),a(47)),s=a(48),m=a(52),i=a(49),u=a(53),E=a(8),d=(a(30),a(60),a(28)),h=a(2),f=a(5),b=a(7),p=a.n(b),v=function(e){var t=Object(n.useState)("none"),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)([]),s=Object(h.a)(o,2),m=s[0],i=s[1],u=Object(n.useState)(""),E=Object(h.a)(u,2),b=E[0],v=E[1],g=Object(n.useState)(!0),w=Object(h.a)(g,2),x=w[0],y=w[1],j=Object(n.useState)(""),O=Object(h.a)(j,2),k=O[0],S=O[1],C=Object(n.useState)(""),A=Object(h.a)(C,2),M=A[0],N=A[1],R=Object(n.useState)(""),T=Object(h.a)(R,2),D=T[0],_=T[1],H=p()("http://127.0.0.1:2802"),F=Math.random();Object(n.useEffect)((function(){H.on("CHAT_MESSAGE",(function(e){e.room===r&&"none"!==r&&e.chatid!==F&&e.name!==k+", "+M+" "+D&&Object(f.addResponseMessage)(e.name+" : "+e.message)})),H.on("JOIN_MESSAGE",(function(e){alert("join"+e.room+"-"+e.name+"-"+e.chatid),e.room===r&&"none"!==r&&e.chatid!==F&&i((function(t){return[].concat(Object(d.a)(t),[e.name])}))}))}),[r]);return l.a.createElement(n.Fragment,null,"none"===r?l.a.createElement("div",{className:"container d-flex vh-100 p-3 mx-auto flex-column"},l.a.createElement("header",{className:"mb-auto"}),l.a.createElement("main",null,l.a.createElement("div",{class:"card mx-auto",style:{width:"28rem"}},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Create Room"),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Room"),l.a.createElement("input",{type:"text",class:"form-control",value:b,onChange:function(e){v(e.target.value)}}),l.a.createElement("small",{class:"form-text text-muted"},"Share this code. To let them join the chat.")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",class:"form-control",value:k,onChange:function(e){S(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",class:"form-control",value:M,onChange:function(e){N(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Middle Name"),l.a.createElement("input",{type:"text",class:"form-control",value:D,onChange:function(e){_(e.target.value)}})),""!==k&&""!==M&&""!==D&&""!==b?l.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){c(b),i((function(e){return[].concat(Object(d.a)(e),[k+", "+M+" "+D])})),H.emit("CONVO_CREATED",{room:b,name:k+", "+M+" "+D,chatid:F})}},"Create Room"):null))),l.a.createElement("footer",{className:"mt-auto"})):l.a.createElement("div",{class:"container-fluid vh-100"},l.a.createElement("div",{class:"row"},l.a.createElement("nav",{class:"col-md-2 d-none d-md-block bg-light sidebar p-2"},l.a.createElement("div",{class:"sidebar-sticky"},l.a.createElement("ul",{class:"nav flex-column"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link active",href:"#"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-home"},l.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),l.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),"Room: ",r))),l.a.createElement("h6",{class:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},l.a.createElement("span",null,"Room Members"),l.a.createElement("a",{class:"d-flex align-items-center text-muted",href:"#",onClick:function(){y(!x)},"aria-label":"Add a new report"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-circle"},l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),l.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"})))),x?l.a.createElement("ul",{class:"nav flex-column mb-2"},m.map((function(e,t){return l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"#",key:"mem"+t},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-users"},l.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),l.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})),e))}))):null)),l.a.createElement("main",{role:"main",class:"col-md-9 ml-sm-auto col-lg-10 px-4 vh-100"},l.a.createElement(f.Widget,{handleNewUserMessage:function(e){H.emit("CHAT_MESSAGE",{room:b,message:e,name:k+", "+M+" "+D,chatid:F})},style:{position:"absolute"},title:"Cavite State University",subtitle:"lab",badge:1})))))},g=function(e){var t=Object(n.useState)("none"),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),m=s[0],i=s[1],u=Object(n.useState)(""),E=Object(h.a)(u,2),d=E[0],b=E[1],v=Object(n.useState)(""),g=Object(h.a)(v,2),w=g[0],x=g[1],y=Object(n.useState)(""),j=Object(h.a)(y,2),O=j[0],k=j[1],S=p()("http://127.0.0.1:2802"),C=Math.random();Object(n.useEffect)((function(){S.on("CHAT_MESSAGE",(function(e){e.room===r&&""!==r&&e.chatid!==C&&Object(f.addResponseMessage)(e.name+" : "+e.message)}))}),[r]);return l.a.createElement(n.Fragment,null,"none"===r?l.a.createElement("div",{className:"container d-flex vh-100 p-3 mx-auto flex-column"},l.a.createElement("header",{className:"mb-auto"}),l.a.createElement("main",null,l.a.createElement("div",{class:"card mx-auto",style:{width:"28rem"}},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Join Room"),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Room"),l.a.createElement("input",{type:"text",class:"form-control",value:m,onChange:function(e){i(e.target.value)}}),l.a.createElement("small",{class:"form-text text-muted"},"Paste the code to join the chat.")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",class:"form-control",value:d,onChange:function(e){b(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",class:"form-control",value:w,onChange:function(e){x(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Middle Name"),l.a.createElement("input",{type:"text",class:"form-control",value:O,onChange:function(e){k(e.target.value)}})),""!==d&&""!==w&&""!==O&&""!==m?l.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){var e;c(m),e=d+", "+w+" "+O,S.emit("JOIN_MESSAGE",{room:m,name:e,chatid:C})}},"Join Room"):null))),l.a.createElement("footer",{className:"mt-auto"})):l.a.createElement("div",{style:{position:"relative",width:"100vw",height:"100vh"}},l.a.createElement(f.Widget,{handleNewUserMessage:function(e){S.emit("CHAT_MESSAGE",{room:m,message:e,name:d+", "+w+" "+O,chatid:C})},style:{position:"absolute"},title:"Cavite State University",subtitle:"lab",badge:1})))},w=function(e){var t=p()("http://127.0.0.1:2802"),a=Math.random();Object(n.useEffect)((function(){t.on("CHAT_MESSAGE",(function(e){"rizza"===e.room&&e.chatid!==a&&Object(f.addResponseMessage)(e.message)}))}),[]);return l.a.createElement(n.Fragment,null,l.a.createElement("div",{style:{position:"relative",width:"100vw",height:"100vh"}},l.a.createElement(f.Widget,{handleNewUserMessage:function(e){t.emit("CHAT_MESSAGE",{room:"rizza",message:e,name:"Jon Angelo Comia",chatid:a})},style:{position:"absolute"},title:"Cavite State University",subtitle:"lab",badge:1})))},x=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!0),s=Object(h.a)(o,2),m=s[0],i=s[1],u=Object(n.useState)(""),E=Object(h.a)(u,2),d=E[0],f=E[1],b=p()("http://127.0.0.1:2802");Math.random();return Object(n.useEffect)((function(){b.emit("LOAD_DATA",{}),b.on("LOAD_DATA",(function(e){console.log({data:e}),c(e.history)}))}),[]),l.a.createElement(n.Fragment,null,l.a.createElement("div",{class:"container-fluid vh-100"},l.a.createElement("div",{class:"row"},l.a.createElement("nav",{class:"col-md-2 d-none d-md-block bg-light sidebar p-2"},l.a.createElement("div",{class:"sidebar-sticky"},l.a.createElement("ul",{class:"nav flex-column"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link active",href:"#"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-layers"},l.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),l.a.createElement("polyline",{points:"2 17 12 22 22 17"}),l.a.createElement("polyline",{points:"2 12 12 17 22 12"})),"HISTORY"))),l.a.createElement("h6",{class:"sidebar-heading d-flex justify-content-between align-items-center px-3 py-2 mt-4 mb-1 text-muted"},l.a.createElement("span",null,"Room List"),l.a.createElement("a",{class:"d-flex align-items-center text-muted",href:"#",onClick:function(){i(!m)},"aria-label":"Add a new report"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-circle"},l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),l.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"})))),l.a.createElement("div",{style:{overflowY:"scroll",maxHeight:"70vh"}},m?l.a.createElement("ul",{class:"nav flex-column mb-2"},r.map((function(e,t){return l.a.createElement("li",{class:"nav-item px-3 py-2"},l.a.createElement("button",{key:"button"+t,className:["btn btn-block",d===e.room?"btn-success":"btn-outline-success"].join(" "),onClick:function(){f(e.room)},style:{textAlign:"left",fontSize:"12px"}},l.a.createElement("strong",null,"DATE:"),l.a.createElement("br",null),"\xa0",new Date(e.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),l.a.createElement("br",null),l.a.createElement("strong",null,"ROOM:"),l.a.createElement("br",null),"\xa0",e.room,l.a.createElement("br",null),l.a.createElement("strong",null,"MODERATOR:"),l.a.createElement("br",null),"\xa0",e.moderator,l.a.createElement("br",null)))}))):null))),l.a.createElement("main",{role:"main",class:"col-md-9 ml-sm-auto col-lg-10 px-4 vh-100",style:{overflowY:"scroll"}},""!==d?l.a.createElement(l.a.Fragment,null,r.map((function(e){return l.a.createElement(l.a.Fragment,null,d===e.room?l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"DATE"),l.a.createElement("th",{scope:"col"},"NAME"),l.a.createElement("th",{scope:"col"},"MESSAGE"))),l.a.createElement("tbody",null,e.messages.map((function(e,t){return l.a.createElement("tr",{key:"message"+t},l.a.createElement("th",{scope:"row"},new Date(e.date).toString().split(" ").splice(0,5).join(" ")),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.message))})))):null)}))):null))))},y=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/create",render:function(){return l.a.createElement(v,e.props)}}),l.a.createElement(E.a,{path:"/join",render:function(){return l.a.createElement(g,e.props)}}),l.a.createElement(E.a,{path:"/view",render:function(){return l.a.createElement(x,e.props)}}),l.a.createElement(E.a,{path:"/",render:function(){return l.a.createElement(w,e.props)}})))}}]),t}(n.Component),j=Object(E.f)(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(25);a(94);c.a.render(l.a.createElement(O.a,null,l.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.d3c617f8.chunk.js.map